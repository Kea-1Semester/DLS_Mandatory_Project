<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Finance Tool - User View</title>
</head>
<body>
  <h1>View User</h1>
  <div id="user-info">Loading user...</div>

  <script>
    const userId = '123e4567-e89b-12d3-a456-426614174011';
    fetch(`http://localhost:5014/User/${userId}`)
      .then(response => response.json())
      .then(user => {
        // ðŸš¨ VULNERABLE: innerHTML renders raw HTML/JS â€” XSS risk
        // This way is vulnerable because we are directly inserting user data into the HTML without sanitization.
        // Its better to convert to textContent or use a library to sanitize the input.
        document.getElementById("user-info").innerHTML = `
          <p><strong>Name:</strong> ${user.userName}</p>
          <p><strong>Email:</strong> ${user.email}</p>
          <p><strong>FirstName:</strong> ${user.firstName}</p>
        `;
      })
      .catch(error => {
        document.getElementById("user-info").textContent = "Error loading user.";
        console.error(error);
      });
  </script>
</body>
</html>
